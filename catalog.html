<h1>CATALOGO PRODOTTI</h1>

<label>Filtra per categoria:</label>
<form method="post" action="/catalogo/filtra">
<select name="categoria">
    <option value="Tech">Tech</option>
    <option value="Abbigliamento">Abbigliamento</option>
    <option value="Casa">Casa</option>
</select>
<button type="submit">Filtra</button>
</form>

<h1></h1>

{% if products %}

<table>
  <tr>
    <th>Nome</th>
    <th>Prezzo (€)</th>
    <th>Categoria</th>
    <th>Disponibile</th>
    <th></th>
    <th></th>
  </tr>

  {% for p in products %}
    <tr>
      <td>{{ p["name"] }}</td>
      <td>{{ p["price"] }}</td>
      <td>{{ p["category"] }}</td>
      <td>{{ p["available"] }}</td>
      <td><form method="post" action="/catalogo/modifica/{{p['_id']}}"><button type="submit">Modifica disponibilità</button></form></td>
      <td><form method="post" action="/catalogo/elimina/{{p['_id']}}"><button type="submit">Elimina prodotto</button></form></td>
    </tr>
  {% end %}
</table>
{% else %}
  <p>Nessun prodotto disponibile.</p>
{% end %}

<style>

/* -------------------------
   GLOBAL + TYPO
--------------------------*/

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 40px;
    font-family: "Inter", "SF Pro Display", sans-serif;
    background: radial-gradient(circle at top left, #e7ecf7, #f7f9fc 60%);
    color: #1e293b;
}

/* -------------------------
   TITOLI
--------------------------*/

h1 {
    text-align: center;
    font-size: 3rem;
    font-weight: 900;
    margin-bottom: 30px;
    letter-spacing: -0.03em;
    color: #111827;
    text-shadow: 0 4px 20px rgba(255,255,255,0.6);
    transition: 0.3s ease;
}

h1:hover {
    transform: translateY(-3px) scale(1.02);
    text-shadow: 0 6px 25px rgba(255,255,255,0.8);
}

/* -------------------------
   FORM — Liquid + Motion
--------------------------*/

label {
    font-weight: 600;
    color: #374151;
    padding-left: 2px;
}

form {
    display: flex;
    gap: 12px;
    margin: 15px 0 30px 0;
    flex-wrap: wrap;
    justify-content: center;
}

select, button {
    padding: 12px 16px;
    border-radius: 14px;
    border: 1px solid #cbd5e1;
    font-size: 1rem;
    transition: 0.3s ease;
    backdrop-filter: blur(6px);
}

select {
    background: rgba(255,255,255,0.7);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
}

select:hover {
    border-color: #4f8cff;
    transform: scale(1.02);
}

button {
    cursor: pointer;
    font-weight: 700;
    color: #fff;
    background: linear-gradient(135deg, #4b7bff, #2e5cff);
    box-shadow: 0 6px 20px rgba(46,92,255,0.35);
}

button:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 10px 28px rgba(46,92,255,0.45),
                0 0 18px rgba(79,140,255,0.35) inset;
}

form[action*="modifica"] button {
    background: linear-gradient(135deg, #3fd1ff, #00a0d5);
    box-shadow: 0 6px 20px rgba(0,150,200,0.45);
}

form[action*="elimina"] button {
    background: linear-gradient(135deg, #ff5a5a, #d62424);
    box-shadow: 0 6px 20px rgba(200,0,0,0.45);
}

/* -------------------------
   TABELLA — Liquid + Motion
--------------------------*/

table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 20px;
    overflow: hidden;
    background: rgba(255,255,255,0.25);
    backdrop-filter: blur(12px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.08),
                inset 0 0 25px rgba(255,255,255,0.15);
    transition: 0.3s ease;
}

th {
    background: rgba(240,243,248,0.85);
    padding: 18px;
    font-size: 0.9rem;
    font-weight: 800;
    color: #1e293b;
    text-transform: uppercase;
    border-bottom: 2px solid #e2e8f0;
    backdrop-filter: blur(6px);
}

td {
    padding: 16px;
    border-bottom: 1px solid #e5e7eb;
    font-size: 1rem;
    color: #334155;
}

tr:last-child td {
    border-bottom: none;
}

tr {
    transition: 0.25s cubic-bezier(.4,0,.2,1);
}

tr:hover {
    background: rgba(255,255,255,0.55);
    transform: scale(1.007);
    backdrop-filter: blur(10px);
}

/* -------------------------
   RIGHE COSTOSE
--------------------------*/

.expensive {
    background: rgba(255,80,80,0.1) !important;
}

</style>
